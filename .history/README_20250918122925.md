# ğŸš€ CrewAI Stock Analysis - Sistema AvanÃ§ado de AnÃ¡lise de AÃ§Ãµes

<div align="center">

![CrewAI](https://img.shields.io/badge/CrewAI-v0.56.0-blue.svg)
![Python](https://img.shields.io/badge/Python-3.11+-green.svg)
![Docker](https://img.shields.io/badge/Docker-Multi--Arch-blue.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

**Sistema profissional de anÃ¡lise de aÃ§Ãµes usando mÃºltiplos agentes IA especializados**

[CaracterÃ­sticas](#-caracterÃ­sticas) â€¢
[InstalaÃ§Ã£o](#-instalaÃ§Ã£o) â€¢
[Uso](#-uso) â€¢
[Docker](#-docker) â€¢
[DocumentaÃ§Ã£o](#-documentaÃ§Ã£o)

</div>

---

## ğŸ“‹ Ãndice

- [VisÃ£o Geral](#-visÃ£o-geral)
- [CaracterÃ­sticas](#-caracterÃ­sticas)
- [Arquitetura](#-arquitetura)
- [Agentes Especializados](#-agentes-especializados)
- [InstalaÃ§Ã£o](#-instalaÃ§Ã£o)
- [ConfiguraÃ§Ã£o](#-configuraÃ§Ã£o)
- [Uso](#-uso)
- [Docker](#-docker)
- [Exemplos](#-exemplos)
- [API e IntegraÃ§Ãµes](#-api-e-integraÃ§Ãµes)
- [ContribuiÃ§Ã£o](#-contribuiÃ§Ã£o)
- [LicenÃ§a](#-licenÃ§a)

---

## ğŸ¯ VisÃ£o Geral

O **CrewAI Stock Analysis** Ã© um sistema avanÃ§ado de anÃ¡lise de aÃ§Ãµes que utiliza mÃºltiplos agentes de IA especializados para fornecer anÃ¡lises abrangentes e recomendaÃ§Ãµes de investimento de alta qualidade. Cada agente possui expertise especÃ­fica e trabalha em conjunto para criar relatÃ³rios profissionais.

### ğŸª O que torna este sistema Ãºnico?

- **ğŸ¤– 5 Agentes Especializados**: Cada um com expertise especÃ­fica
- **ğŸ”„ AnÃ¡lise Colaborativa**: Agentes trabalham em sequÃªncia e compartilham insights
- **ğŸ“Š Multi-Timeframe**: AnÃ¡lises de curto, mÃ©dio e longo prazo
- **ğŸ‡§ğŸ‡· Foco no Mercado Brasileiro**: Otimizado para B3 e economia brasileira
- **ğŸ³ Docker Multi-Arquitetura**: Suporte para AMD64 e ARM64
- **ğŸ“± Interface FlexÃ­vel**: CLI, batch processing e modo interativo

---

## âœ¨ CaracterÃ­sticas

### ğŸ¯ Tipos de AnÃ¡lise

| Tipo | DescriÃ§Ã£o | Agentes Envolvidos | Tempo Estimado |
|------|-----------|-------------------|----------------|
| **Quick** | AnÃ¡lise rÃ¡pida essencial | Research + Fundamental + Technical + Consultant | 5-10 min |
| **Complete** | AnÃ¡lise completa com day trade | Todos os 5 agentes | 15-25 min |
| **Technical** | Foco em anÃ¡lise tÃ©cnica | Research + Technical | 3-7 min |
| **Fundamental** | Foco em fundamentos | Research + Fundamental | 5-12 min |

### ğŸ“Š RelatÃ³rios Gerados

- **ğŸ“ˆ AnÃ¡lise de Pesquisa**: Contexto geral e notÃ­cias
- **ğŸ’° AnÃ¡lise Fundamentalista**: Indicadores financeiros e valuation
- **ğŸ“‰ AnÃ¡lise TÃ©cnica**: NÃ­veis, indicadores e setups
- **âš¡ EstratÃ©gias Day Trade**: Setups especÃ­ficos e timing
- **ğŸ¯ RecomendaÃ§Ã£o Final**: SÃ­ntese e estratÃ©gia de investimento

### ğŸ›  Ferramentas Integradas

- **Yahoo Finance**: Dados financeiros em tempo real
- **Web Scraping**: Coleta de notÃ­cias e informaÃ§Ãµes
- **Calculadora Financeira**: MÃ©tricas e indicadores
- **APIs de NotÃ­cias**: InformaÃ§Ãµes atualizadas do mercado

---

## ğŸ— Arquitetura

```mermaid
graph TB
    A[Main Application] --> B[Market Agents]
    A --> C[Market Tasks]
    A --> D[Tools Package]
    
    B --> E[Research Analyst]
    B --> F[Fundamental Analyst]
    B --> G[Technical Analyst]
    B --> H[Day Trader]
    B --> I[Investment Consultant]
    
    D --> J[Browser Tools]
    D --> K[Search Tools]
    D --> L[Calculator Tools]
    D --> M[YFinance Tools]
    
    C --> N[Research Task]
    C --> O[Fundamental Task]
    C --> P[Technical Task]
    C --> Q[Day Trade Task]
    C --> R[Final Recommendation]
```

---

## ğŸ¤– Agentes Especializados

### 1. ğŸ” **Analista de Pesquisa**
- **Expertise**: Coleta e interpretaÃ§Ã£o de dados de mercado
- **Responsabilidades**:
  - AnÃ¡lise de notÃ­cias e sentimento de mercado
  - Contexto macroeconÃ´mico brasileiro e global
  - IdentificaÃ§Ã£o de catalisadores e riscos
  - AnÃ¡lise setorial e competitiva

### 2. ğŸ’¼ **Analista Fundamentalista**
- **Expertise**: AnÃ¡lise financeira e valuation
- **Responsabilidades**:
  - DemonstraÃ§Ãµes financeiras (DRE, BalanÃ§o, DFC)
  - Indicadores fundamentalistas (P/L, ROE, ROIC)
  - Modelos de valuation e preÃ§o justo
  - AnÃ¡lise de dividendos e sustentabilidade

### 3. ğŸ“ˆ **Analista TÃ©cnico**
- **Expertise**: AnÃ¡lise tÃ©cnica e timing de mercado
- **Responsabilidades**:
  - IdentificaÃ§Ã£o de tendÃªncias e padrÃµes
  - Suporte, resistÃªncia e pontos de entrada
  - Indicadores tÃ©cnicos (RSI, MACD, MÃ©dias)
  - AnÃ¡lise de volume e momentum

### 4. âš¡ **Consultor Day Trade**
- **Expertise**: EstratÃ©gias de curtÃ­ssimo prazo
- **Responsabilidades**:
  - Setups de day trade especÃ­ficos
  - Gerenciamento de risco intraday
  - Timing preciso de entrada e saÃ­da
  - AnÃ¡lise de mÃºltiplos timeframes

### 5. ğŸ¯ **Consultor de Investimentos**
- **Expertise**: SÃ­ntese e estratÃ©gia global
- **Responsabilidades**:
  - IntegraÃ§Ã£o de todas as anÃ¡lises
  - RecomendaÃ§Ã£o final ponderada
  - EstratÃ©gias por perfil de investidor
  - GestÃ£o de portfÃ³lio e risco

---

## ğŸ“¦ InstalaÃ§Ã£o

### PrÃ©-requisitos

- **Python 3.11+**
- **Docker** (opcional, mas recomendado)
- **Chave API Anthropic** (obrigatÃ³ria)
- **APIs Google/News** (opcionais)

### ğŸ InstalaÃ§Ã£o Local

```bash
# Clone o repositÃ³rio
git clone https://github.com/rlquilez/crewai-acoes.git
cd crewai-acoes

# Crie ambiente virtual
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ou
venv\Scripts\activate     # Windows

# Instale dependÃªncias
pip install -r requirements.txt

# Configure ambiente
cp .env.example .env
# Edite .env com suas chaves de API
```

### ğŸ³ InstalaÃ§Ã£o com Docker

```bash
# Clone o repositÃ³rio
git clone https://github.com/rlquilez/crewai-acoes.git
cd crewai-acoes

# InicializaÃ§Ã£o rÃ¡pida
./docker/quickstart.sh

# Ou manual
cp .env.example .env
# Configure suas APIs no .env
docker-compose build
```

---

## âš™ï¸ ConfiguraÃ§Ã£o

### ğŸ”‘ ConfiguraÃ§Ã£o do Ambiente

Copie o arquivo `.env.example` para `.env` e configure suas credenciais:

```bash
cp .env.example .env
```

Edite o arquivo `.env` com suas configuraÃ§Ãµes:

```bash
# OBRIGATÃ“RIO - Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-api03-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# SERVIÃ‡OS DE BUSCA E NAVEGAÃ‡ÃƒO (configurados automaticamente via Docker)
SEARXNG_URL=http://searxng:8080
BROWSERLESS_URL=http://browserless:3000

# OPCIONAL - Google Search (fallback quando SearXNG indisponÃ­vel)
GOOGLE_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
GOOGLE_CSE_ID=XXXXXXXXXXXXXXX

# OPCIONAL - News API (notÃ­cias mais atualizadas)
NEWS_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# CONFIGURAÃ‡Ã•ES ADICIONAIS
DEBUG=false
CACHE_ENABLED=true
MAX_SEARCH_RESULTS=10
SCRAPING_TIMEOUT=30
```

### ğŸ“ Como Obter as APIs

#### 1. Anthropic API (ObrigatÃ³ria)
1. Acesse [console.anthropic.com](https://console.anthropic.com)
2. Crie uma conta e adicione crÃ©ditos
3. Gere uma API key na seÃ§Ã£o "API Keys"

#### 2. SearXNG e Browserless (IncluÃ­dos)
- **SearXNG**: Motor de busca privado incluÃ­do no Docker Compose
- **Browserless**: ServiÃ§o de navegaÃ§Ã£o headless incluÃ­do no Docker Compose
- Ambos sÃ£o configurados automaticamente quando vocÃª usar Docker

#### 3. Google Custom Search (Fallback Opcional)
1. Acesse [Google Cloud Console](https://console.cloud.google.com)
2. Ative a "Custom Search JSON API"
3. Crie um Custom Search Engine em [cse.google.com](https://cse.google.com)

#### 4. News API (Opcional)
1. Registre-se em [newsapi.org](https://newsapi.org)
2. Obtenha sua API key gratuita

---

## ğŸš€ Uso

### ğŸ“± Linha de Comando

```bash
# AnÃ¡lise individual (modo rÃ¡pido)
python main.py PETR4.SA

# AnÃ¡lise completa
python main.py PETR4.SA --type complete

# AnÃ¡lise tÃ©cnica apenas
python main.py PETR4.SA --type technical

# AnÃ¡lise fundamentalista apenas
python main.py PETR4.SA --type fundamental

# AnÃ¡lise em lote
python main.py --batch PETR4.SA VALE3.SA ITUB4.SA

# Modo interativo
python main.py

# Listar sÃ­mbolos populares
python main.py --list-symbols
```

### ğŸ³ Com Docker

```bash
# AnÃ¡lise individual
docker-compose run --rm crewai-stock-analysis python main.py PETR4.SA

# AnÃ¡lise em lote
docker-compose run --rm crewai-stock-analysis python main.py --batch PETR4.SA VALE3.SA

# Modo interativo
docker-compose run --rm crewai-stock-analysis python main.py

# Com Jupyter Lab
docker-compose --profile jupyter up -d
# Acesse: http://localhost:8888 (token: crewai2024)
```

### ğŸ“Š Exemplo de SaÃ­da

```
ğŸš€ Sistema de AnÃ¡lise de aÃ§Ãµes CrewAI inicializado!
ğŸ“… Data: 18/09/2025 14:30
ğŸ¤– Modelo LLM: claude-3-sonnet-20240229
------------------------------------------------------------

ğŸ“Š Iniciando anÃ¡lise de PETR4.SA
ğŸ” Tipo de anÃ¡lise: quick
============================================================

ğŸ¬ Executando anÃ¡lise com 4 agentes...

[Research Analyst] Coletando informaÃ§Ãµes sobre PETR4.SA...
[Fundamental Analyst] Analisando demonstraÃ§Ãµes financeiras...
[Technical Analyst] Identificando nÃ­veis e tendÃªncias...
[Investment Consultant] Consolidando recomendaÃ§Ã£o final...

âœ… AnÃ¡lise de PETR4.SA concluÃ­da com sucesso!
ğŸ“ RelatÃ³rios salvos na pasta 'reports/'
```

---

## ğŸ³ Docker

### ğŸ— Build Multi-Arquitetura

```bash
# Build para AMD64 e ARM64
./docker/build-multiarch.sh

# Build local apenas
docker build -f docker/Dockerfile -t crewai-stock-analysis .
```

### ğŸ“‹ ServiÃ§os DisponÃ­veis

```bash
# AplicaÃ§Ã£o principal
docker-compose up crewai-stock-analysis

# Com Redis para cache
docker-compose --profile cache up -d

# Com Jupyter Lab
docker-compose --profile jupyter up -d

# Todos os serviÃ§os
docker-compose --profile cache --profile jupyter up -d
```

### ğŸ”§ ConfiguraÃ§Ãµes Docker

| ServiÃ§o | Porta | DescriÃ§Ã£o | Perfil |
|---------|-------|-----------|--------|
| CrewAI App | - | AplicaÃ§Ã£o principal | default |
| Redis | 6379 | Cache (opcional) | cache |
| Jupyter | 8888 | AnÃ¡lise interativa | jupyter |

---

## ğŸ“š Exemplos

### ğŸ¯ AnÃ¡lise Completa - PETR4.SA

```python
from main import StockAnalysisApp

# Inicializar aplicaÃ§Ã£o
app = StockAnalysisApp()

# AnÃ¡lise completa
result = app.analyze_stock("PETR4.SA", "complete")

# Resultado inclui:
# - RelatÃ³rio de pesquisa
# - AnÃ¡lise fundamentalista
# - AnÃ¡lise tÃ©cnica  
# - EstratÃ©gias day trade
# - RecomendaÃ§Ã£o final
```

### ğŸ“Š AnÃ¡lise em Lote

```python
# MÃºltiplas aÃ§Ãµes
symbols = ["PETR4.SA", "VALE3.SA", "ITUB4.SA"]
results = app.batch_analyze(symbols, "quick")

# Processa todas as aÃ§Ãµes
# Salva relatÃ³rios individuais
# Retorna sumÃ¡rio consolidado
```

### ğŸ“ˆ Estrutura dos RelatÃ³rios

```
reports/
â”œâ”€â”€ research_PETR4.SA_20250918_1430.md
â”œâ”€â”€ fundamental_PETR4.SA_20250918_1430.md
â”œâ”€â”€ technical_PETR4.SA_20250918_1430.md
â”œâ”€â”€ daytrader_PETR4.SA_20250918_1430.md
â”œâ”€â”€ final_recommendation_PETR4.SA_20250918_1430.md
â””â”€â”€ execution_log_PETR4.SA_20250918_1430.log
```

---

## ğŸ”Œ API e IntegraÃ§Ãµes

### ğŸ“Š Dados Utilizados

| Fonte | Tipo de Dados | FrequÃªncia |
|-------|---------------|------------|
| **Yahoo Finance** | PreÃ§os, volumes, fundamentals | Tempo real |
| **Google Search** | NotÃ­cias, anÃ¡lises | On-demand |
| **News API** | NotÃ­cias financeiras | Tempo real |
| **Web Scraping** | InformaÃ§Ãµes pÃºblicas | On-demand |

### ğŸ›  Ferramentas TÃ©cnicas

- **RSI**: Relative Strength Index
- **MACD**: Moving Average Convergence Divergence  
- **Bollinger Bands**: Bandas de volatilidade
- **Fibonacci**: RetraÃ§Ãµes e projeÃ§Ãµes
- **Volume Profile**: AnÃ¡lise de volume por preÃ§o

### ğŸ’° Indicadores Fundamentalistas

- **Valuation**: P/L, P/VPA, EV/EBITDA
- **Rentabilidade**: ROE, ROA, ROIC
- **Endividamento**: D/E, Liquidez
- **Crescimento**: CAGR, Margem, EficiÃªncia

---

## ğŸ¤ ContribuiÃ§Ã£o

### ğŸ”§ Desenvolvimento

```bash
# Fork e clone
git clone https://github.com/SEU_USUARIO/crewai-acoes.git
cd crewai-acoes

# Crie branch para feature
git checkout -b feature/nova-funcionalidade

# Desenvolva e teste
python -m pytest tests/

# Commit e push
git commit -m "feat: adiciona nova funcionalidade"
git push origin feature/nova-funcionalidade
```

### ğŸ“ Issues e SugestÃµes

- ğŸ› **Bugs**: Use o template de bug report
- âœ¨ **Features**: Descreva a funcionalidade desejada
- ğŸ“š **DocumentaÃ§Ã£o**: Melhorias na documentaÃ§Ã£o
- ğŸ”§ **Performance**: OtimizaÃ§Ãµes e melhorias

### ğŸ§ª Testes

```bash
# Executar testes
python -m pytest

# Com coverage
python -m pytest --cov=src

# Testes especÃ­ficos
python -m pytest tests/test_agents.py
```

---

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a **MIT License** - veja o arquivo [LICENSE](LICENSE) para detalhes.

---

## ğŸ™ Agradecimentos

- **CrewAI Team**: Framework excepcional para agentes colaborativos
- **Anthropic**: Claude 3 Sonnet para anÃ¡lises de alta qualidade
- **Yahoo Finance**: Dados financeiros confiÃ¡veis e gratuitos
- **Comunidade Python**: Bibliotecas e ferramentas incrÃ­veis

---

## ğŸ“ Suporte

- **ğŸ“§ Email**: [suporte@crewai-acoes.com](mailto:suporte@crewai-acoes.com)
- **ğŸ’¬ Discord**: [CrewAI Brasil](https://discord.gg/crewai-brasil)
- **ğŸ“– DocumentaÃ§Ã£o**: [docs.crewai-acoes.com](https://docs.crewai-acoes.com)
- **ğŸ› Issues**: [GitHub Issues](https://github.com/rlquilez/crewai-acoes/issues)

---

<div align="center">

**ğŸš€ Feito com â¤ï¸ por desenvolvedores brasileiros**

â­ **Se este projeto foi Ãºtil, deixe uma estrela!** â­

</div>